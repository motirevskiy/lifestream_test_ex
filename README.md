# UDP Client-Server Application

### Описание
Этот проект реализует UDP клиент-серверное приложение, где клиент отправляет файлы на сервер. Сервер принимает пакеты, собирает их и проверяет целостность данных с помощью контрольной суммы. Программа предназначена для работы на ```ОС GNU/Linux x86_64``` с компилятором ```GCC``` версии ```4.9``` и выше.

### Структура проекта
- **Client**: Отправляет файлы на сервер, разбивая их на пакеты. Также поддерживает отправку нескольких файлов одновременно, включая дублирование и перемешивание пакетов для демонстрации обработки сетевых потерь.
- **Server**: Принимает пакеты от клиента, собирает файлы и отправляет пакет с контрольной суммой клиенту.

### Сборка проекта
Для сборки проекта используется `CMake`. Перед сборкой убедитесь, что `CMake` установлен в системе.

1. Клонируйте репозиторий и перейдите в его директорию:
   ```bash
    git clone git@github.com:motirevskiy/lifestream_test_ex.git
    cd lifestream_test_ex
   ```
2. Создайте файл build и перейдите в него:
   ```bash
    mkdir build
    cd build
   ```
3. Сконфигурируйте проект и запустите цель run
   ```bash
    cmake ..
    make run
   ```
   
   
### Описание работы
**Client**:
- Загружает список файлов из указанного текстового файла.
- Разбивает каждый файл на пакеты.
- Перемешивает и дублирует пакеты, отправляет их на сервер.
- Ожидает ```ACK``` (подтверждения) от сервера для каждого отправленного пакета.

**Server**:
- Принимает пакеты и сохраняет их в буфер до получения всех частей, используемая структура для хранения пакетов - ```std::map```, в которой пакеты хранятся в упорядоченном виде
- После получения всех пакетов файла генерирует контрольную сумму полученного файла
- Отправляет клиенту ```ACK``` для каждого пакета и финальный ```ACK``` с контрольной суммой для подтверждения.

### Демонстрация работы
**Client**: 
- При инициализации клиента вычисляется локальный IP адрес
- В ходе работы клиента вызывается две функции ```send_file``` и ```send_multiple_files```
- `send_file` выполняет отправку пакетов каждого файла по-отдельности
- `send_multiply_file` выполняет отправку пакетов разных файлов в случайном порядке

**Server**:
- Для демонстрации работы сервер имеет функцию `save_file` которая сохраняет файл после получения всех пакетов